<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEXUS –†–ê–ë–û–¢–ê–ï–¢</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            background-color: #0a0f1f;
            color: white;
            font-family: sans-serif;
            padding: 20px;
            margin: 0;
        }
        .card {
            background: #1a1f2f;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid #333a4a;
        }
        button {
            background: #2e7eff;
            color: white;
            border: none;
            border-radius: 15px;
            padding: 15px;
            font-size: 16px;
            font-weight: bold;
            width: 100%;
            margin-top: 10px;
            cursor: pointer;
        }
        .price {
            font-size: 30px;
            font-weight: bold;
            color: #ffd700;
        }
    </style>
</head>
<body>
    <h1>üî• NEXUS PREMIUM</h1>
    <p>–ó–¥–µ—Å—å –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç!</p>

    <div class="card">
        <h2>üí∞ –¢–∞—Ä–∏—Ñ—ã</h2>
        <p><strong>üî• –°—É—Ç–∫–∏</strong> - 5 ‚≠ê (2 –ø–æ—Ç–æ–∫–∞)</p>
        <p><strong>‚ö° –ú–µ—Å—è—Ü</strong> - 15 ‚≠ê (3 –ø–æ—Ç–æ–∫–∞)</p>
        <p><strong>üí™ –ü–æ–ª–≥–æ–¥–∞</strong> - 45 ‚≠ê (7 –ø–æ—Ç–æ–∫–æ–≤)</p>
        <p><strong>üëë –ì–æ–¥</strong> - 85 ‚≠ê (15 –ø–æ—Ç–æ–∫–æ–≤)</p>
        <button onclick="buyTariff('month')">–ö—É–ø–∏—Ç—å –ú–µ—Å—è—Ü –∑–∞ 15 ‚≠ê</button>
    </div>

    <div class="card">
        <h2>‚öôÔ∏è –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</h2>
        <p>–ü–æ—Ç–æ–∫–∏: <span id="threadsVal">5</span></p>
        <input type="range" id="threads" min="1" max="20" value="5">
        <p>–î–Ω–∏: <span id="daysVal">30</span></p>
        <input type="range" id="days" min="1" max="365" value="30">
        <p class="price" id="totalPrice">1040‚ÇΩ</p>
        <button onclick="buyCustom()">–ö—É–ø–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</button>
    </div>

    <script>
        const tg = Telegram.WebApp;
        tg.expand(); // –†–∞—Å—Ç—è–Ω—É—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
        tg.ready();  // –°–∫–∞–∑–∞—Ç—å Telegram, —á—Ç–æ –º—ã –≥–æ—Ç–æ–≤—ã

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª–∑—É–Ω–∫–æ–≤
        function updatePrice() {
            let threads = document.getElementById('threads').value;
            let days = document.getElementById('days').value;
            document.getElementById('threadsVal').innerText = threads;
            document.getElementById('daysVal').innerText = days;
            let price = (threads * 50) + (days * 15);
            price = price * 1.3;
            if (price < 199) price = 199;
            document.getElementById('totalPrice').innerText = Math.round(price) + '‚ÇΩ';
        }

        // –°–ª–µ–¥–∏–º –∑–∞ –¥–≤–∏–∂–µ–Ω–∏–µ–º –ø–æ–ª–∑—É–Ω–∫–æ–≤
        document.getElementById('threads').oninput = updatePrice;
        document.getElementById('days').oninput = updatePrice;

        // –ü–æ–∫—É–ø–∫–∞ —Ç–∞—Ä–∏—Ñ–∞
        function buyTariff(tariff) {
            tg.sendData(JSON.stringify({
                action: 'buy_tariff',
                tariff: tariff
            }));
            tg.close(); // –ó–∞–∫—Ä—ã—Ç—å –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏
        }

        // –ü–æ–∫—É–ø–∫–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
        function buyCustom() {
            tg.sendData(JSON.stringify({
                action: 'buy_custom',
                threads: document.getElementById('threads').value,
                days: document.getElementById('days').value,
                price: document.getElementById('totalPrice').innerText
            }));
            tg.close();
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        updatePrice();
    </script>
</body>
</html>